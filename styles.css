/**********************
 * Eurovilla.lt — UI
 * styles.css
 **********************/

/* ====== Reset léger + variables ====== */
:root {
  --bg: #0f1216;
  --bg-soft: #12161b;
  --surface: #171b21;
  --surface-2: #1b2027;
  --border: #252b35;
  --text: #eaf0f7;
  --muted: #b6c0cd;
  --accent: #5ee2a0;
  --accent-2: #7db7ff;
  --danger: #ff6b6b;
  --success: #4be38f;
  --warning: #ffd166;

  --shadow-1: 0 6px 24px rgba(0,0,0,.22), 0 2px 8px rgba(0,0,0,.25);
  --shadow-inset: inset 0 1px 0 rgba(255,255,255,.04);

  --radius: 14px;
  --radius-lg: 18px;

  --container: clamp(280px, 92vw, 1150px);
  --pad: clamp(16px, 2.4vw, 28px);
  --gap: clamp(14px, 2.2vw, 22px);
}

:root[data-theme="light"] {
  --bg: #f7f9fc;
  --bg-soft: #ffffff;
  --surface: #ffffff;
  --surface-2: #fbfdff;
  --border: #e6ebf2;
  --text: #1b2430;
  --muted: #5b6b7f;
  --accent: #06b37b;
  --accent-2: #1d77ff;
  --shadow-1: 0 10px 30px rgba(16,30,54,.12), 0 1px 0 rgba(0,0,0,.03);
}

* { box-sizing: border-box; }
html, body { margin:0; padding:0; }
html { scroll-behavior: smooth; }
body {
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--text);
  background: radial-gradient(1200px 600px at 70% -10%, rgba(94,226,160,.15), transparent 60%) , var(--bg);
  line-height: 1.55;
}

/* Utilitaires */
.container { width: var(--container); margin-inline: auto; padding-inline: var(--pad); }
.accent { color: var(--accent); }
.placeholder { opacity:.8; font-style: italic; }

/* ====== Topbar ====== */
.topbar {
  background: linear-gradient(90deg, rgba(94,226,160,.12), rgba(125,183,255,.12));
  color: var(--text);
  border-bottom: 1px solid var(--border);
  font-weight: 500;
  padding: 10px var(--pad);
  text-align: center;
}

/* ====== Header ====== */
.site-header {
  position: sticky; top:0; z-index: 50;
  backdrop-filter: saturate(1.1) blur(6px);
  background: color-mix(in oklab, var(--bg) 92%, transparent);
  border-bottom: 1px solid var(--border);
}
.header-grid {
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: var(--gap);
  padding: 14px 0;
}
.brand .logo {
  font-weight: 800; letter-spacing: .2px;
  font-size: 1.25rem;
}
.nav { display:flex; gap: 14px; }
.nav a {
  color: var(--muted); text-decoration: none; font-weight: 500;
  padding: 8px 10px; border-radius: 10px;
}
.nav a:hover { color: var(--text); background: var(--surface-2); }

.header-cta { display:flex; align-items:center; gap: 10px; }
.mode-toggle {
  border:1px solid var(--border); background: var(--surface);
  color: var(--text); padding: 8px 10px; border-radius: 10px; cursor: pointer;
}

/* ====== Buttons ====== */
.btn {
  --btn-bg: var(--surface);
  --btn-fg: var(--text);
  display: inline-flex; align-items: center; justify-content: center;
  gap: 10px;
  padding: 11px 16px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--btn-bg);
  color: var(--btn-fg);
  text-decoration: none;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .2s ease, border-color .2s ease;
  box-shadow: var(--shadow-inset);
  user-select: none;
}
.btn:hover { transform: translateY(-1px); box-shadow: var(--shadow-1); }
.btn:active { transform: translateY(1px) scale(.99); }
.btn:disabled { opacity:.6; cursor:not-allowed; }

.btn.outline {
  background: transparent;
  border-color: color-mix(in oklab, var(--accent) 38%, var(--border));
  color: color-mix(in oklab, var(--accent) 86%, white);
}
.btn.cta {
  --btn-bg: linear-gradient(180deg, color-mix(in oklab, var(--accent) 82%, #fff 8%), color-mix(in oklab, var(--accent) 70%, #000 10%));
  --btn-fg: #061513;
  border: none;
}
.btn.xl { padding: 14px 20px; font-size: 1.05rem; border-radius: 14px; }

/* Bounce (au clic) : la classe .bounce est posée dans l’HTML ; l’animation est ajoutée par JS */
.btn.bounce { transform: translateY(0); }

/* ====== Datebar / Compteur / Countdown ====== */
.datebar { border-bottom: 1px solid var(--border); background: var(--bg-soft); }
.countdown {
  display:flex; align-items:center; justify-content: space-between;
  padding: 14px 0;
}
.countdown-left strong { font-weight:700; }
.countdown-box { display:flex; align-items:center; gap: 12px; }
.countdown-ticks { display:flex; gap: 6px; }
.tick {
  background: var(--surface);
  border: 1px solid var(--border);
  padding: 6px 10px; border-radius: 10px; text-align:center; min-width: 56px;
}
.tick strong { display:block; font-size: 1.05rem; }
.tick small { opacity:.8; font-size:.78rem; }

.live-join { color: var(--muted); }

/* ====== Hero ====== */
.hero { padding: 40px 0 18px; }
.hero-grid {
  display:grid; gap: clamp(18px, 3.4vw, 30px);
  grid-template-columns: 1.1fr .9fr;
  align-items: start;
}
.hero-copy h1 { margin:0 0 10px; font-size: clamp(1.6rem, 3vw, 2.05rem); line-height:1.15; }
.lead { color: var(--muted); margin: 8px 0 14px; }
.bullets { padding-left: 18px; margin: 0 0 16px; }
.bullets li { margin: 6px 0; }

/* Media card 360 (structure générale, le skin est renforcé par l’inline CSS pour l’aspect-ratio) */
.media-card {
  border-radius: var(--radius-lg);
  background: var(--surface-2);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-1);
}

/* ====== Sections génériques ====== */
.section-head h2 { margin: 0 0 6px; font-size: clamp(1.4rem, 2.2vw, 1.8rem); }
.section-head p { margin: 0; color: var(--muted); }

.card-ui {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: clamp(14px, 2.2vw, 18px);
  box-shadow: var(--shadow-inset);
}

.soft-note {
  background: color-mix(in oklab, var(--accent) 10%, var(--surface));
  border-color: color-mix(in oklab, var(--accent) 30%, var(--border));
}

/* ====== Formulaires ====== */
.form { margin-top: 14px; }
.grid-2 {
  display:grid; gap: var(--gap);
  grid-template-columns: 1fr 1fr;
}
.field { display:block; }
.field label, .field legend { display:block; margin: 0 0 6px; font-weight: 600; }
.field input[type="text"],
.field input[type="email"],
.field input[type="tel"],
.field select {
  width:100%;
  padding: 12px 12px;
  border-radius: 12px;
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text);
  outline: none;
  transition: border-color .15s ease, box-shadow .15s ease;
}
.field input:focus, .field select:focus {
  border-color: color-mix(in oklab, var(--accent-2) 40%, var(--border));
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent-2) 24%, transparent);
}
.has-validation .error-msg { color: var(--danger); display:none; font-size: .85rem; margin-top: 6px; }
.field.checkbox { display:flex; align-items: flex-start; gap: 10px; margin: 8px 0; }
.field .checks { display:flex; flex-wrap: wrap; gap: 12px 16px; }

.actions-row { display:flex; align-items:center; gap: 14px; margin-top: 10px; }
.privacy { color: var(--muted); margin: 0; }

/* États de message après submit */
.success, .error, .info {
  margin-top: 12px; padding: 10px 12px; border-radius: 12px; border:1px solid;
}
.success { background: color-mix(in oklab, var(--success) 12%, var(--surface)); border-color: color-mix(in oklab, var(--success) 40%, var(--border)); }
.error   { background: color-mix(in oklab, var(--danger) 12%, var(--surface)); border-color: color-mix(in oklab, var(--danger) 40%, var(--border)); }
.info    { background: color-mix(in oklab, var(--accent-2) 10%, var(--surface)); border-color: color-mix(in oklab, var(--accent-2) 36%, var(--border)); }

/* ====== Points / Progress ====== */
.points { padding: 40px 0 10px; }
.progress-wrap { margin: 12px 0 18px; }
.progress-head { display:flex; align-items:center; justify-content: space-between; margin-bottom: 8px; }
.progress { height: 10px; background: var(--surface-2); border:1px solid var(--border); border-radius: 999px; overflow: hidden; }
.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), color-mix(in oklab, var(--accent-2) 55%, var(--accent)));
  width: 0%;
  transition: width .35s ease;
}
.progress-steps { display:flex; justify-content: space-between; color: var(--muted); font-size:.9rem; margin-top: 6px; }

.cards {
  display:grid; gap: var(--gap);
  grid-template-columns: repeat(3, 1fr);
  margin: 16px 0;
}
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 16px;
  box-shadow: var(--shadow-inset);
}
.card h3 { margin:0 0 6px; }
.card p { margin:0 0 12px; color: var(--muted); }

.ref-row { display:flex; gap: 8px; align-items:center; }
.ref-input {
  flex:1; padding: 11px 12px; border-radius: 10px;
  background: var(--surface-2); color: var(--text); border:1px solid var(--border);
}

.score { margin: 10px 0 0; }
.score-box {
  display:inline-flex; align-items:center; gap: 12px;
  background: var(--surface); border:1px solid var(--border); border-radius: var(--radius);
  padding: 10px 14px;
}
.score-value { font-weight: 800; font-size: 1.2rem; }

/* ====== Villa ====== */
.villa { padding: 34px 0; }
.villa-grid {
  display:grid; gap: var(--gap);
  grid-template-columns: 1.1fr .9fr;
  align-items: start;
}
.specs { padding-left: 18px; margin: 8px 0 12px; }
.specs li { margin: 6px 0; }
.gallery {
  display:grid; grid-template-columns: repeat(2, 1fr); gap: 8px;
}
.gallery img {
  width:100%; height: 190px; object-fit: cover;
  border-radius: 12px; border:1px solid var(--border);
}

/* ====== CTA final ====== */
.cta-final { padding: 30px 0; }
.cta-grid {
  background: linear-gradient(180deg, color-mix(in oklab, var(--accent) 16%, transparent), transparent);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 18px;
  display:flex; align-items:center; justify-content: space-between;
  gap: var(--gap);
}

/* ====== Footer ====== */
.site-footer {
  margin-top: 30px;
  border-top: 1px solid var(--border);
  background: var(--bg-soft);
  padding: 24px 0 40px;
}
.footer-grid {
  display:grid; gap: var(--gap);
  grid-template-columns: 1.1fr 1fr auto;
  align-items: start;
}
.foot-note { color: var(--muted); margin-top: 6px; }
.foot-nav { display:flex; flex-wrap: wrap; gap: 10px 16px; }
.foot-nav a { color: var(--muted); text-decoration:none; }
.foot-nav a:hover { color: var(--text); }
.foot-cta { display:flex; gap: 8px; }

/* ====== Modales ====== */
.modal[aria-hidden="true"] { display:none; }
.modal { position: fixed; inset:0; z-index: 100; }
.modal-dialog {
  position: relative;
  width: min(780px, 92vw);
  margin: 8vh auto 0;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 16px;
  box-shadow: var(--shadow-1);
  z-index: 2;
  animation: modalIn .18s ease;
}
@keyframes modalIn { from { transform: translateY(4px); opacity: .7; } to { transform: translateY(0); opacity:1; } }

.modal-backdrop {
  position:absolute; inset:0; background: rgba(0,0,0,.45);
  backdrop-filter: blur(2px);
}
.modal-close {
  position:absolute; top: 8px; right: 10px;
  border:1px solid var(--border); background: var(--surface-2);
  color: var(--text); border-radius: 10px; width: 34px; height: 34px; cursor: pointer;
}

/* ====== Accessibilité ====== */
a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible {
  outline: 3px solid color-mix(in oklab, var(--accent-2) 45%, transparent);
  outline-offset: 2px;
}

/* ====== Responsif ====== */
@media (max-width: 980px) {
  .hero-grid, .villa-grid { grid-template-columns: 1fr; }
  .header-grid { grid-template-columns: 1fr auto; }
  .nav { display:none; } /* nav compact sur petits écrans (garde les CTA) */
  .cards { grid-template-columns: 1fr 1fr; }
}
@media (max-width: 640px) {
  .grid-2 { grid-template-columns: 1fr; }
  .cards { grid-template-columns: 1fr; }
  .footer-grid { grid-template-columns: 1fr; }
  .countdown { flex-direction: column; gap: 8px; align-items: flex-start; }
  .gallery img { height: 160px; }
}
